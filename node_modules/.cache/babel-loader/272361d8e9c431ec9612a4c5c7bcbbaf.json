{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineComponent, reactive, onMounted } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport Parse from \"parse\";\nexport default defineComponent({\n  components: {},\n\n  setup() {\n    const router = useRouter();\n    const formState = reactive({\n      username: \"\",\n      password: \"\",\n      username1: \"\",\n      password1: \"\",\n      signup: true,\n      signin: true,\n      logout: true,\n      show: true\n    });\n\n    const Logout = async () => {\n      const currentUser = Parse.User.current();\n      currentUser.set({\n        'state': false\n      });\n      await currentUser.save();\n      var ldata = currentUser.get(\"userLocation\");\n      console.log(ldata); // console.log(ldata.pop())\n\n      var data = [];\n\n      if (ldata) {\n        var len = ldata.length;\n      }\n\n      console.log(\"LLLLLLLLLLLLLLLLLL\", len);\n\n      if (len >= 0) {\n        if (len >= 1) {\n          var myTarget = JSON.parse(JSON.stringify(ldata[len - 1]));\n        } else {\n          myTarget = JSON.parse(JSON.stringify(ldata[0]));\n        }\n      } // console.log(\"len\",len)\n      // console.log(\"mytar\",myTarget)\n\n\n      data.push(myTarget); // console.log(data)\n      // console.log(data)\n\n      currentUser.set({\n        'userLocation': data,\n        'logout': true\n      });\n      await currentUser.save();\n      Parse.User.logOut().then(() => {\n        alert(\"user logged out\");\n        location.reload();\n        router.push('/'); //   const currentUser = Parse.User.current();  // this will now be null\n      });\n    };\n\n    onMounted(() => {});\n    return {\n      formState,\n      Logout\n    };\n  }\n\n});","map":{"version":3,"mappings":";AAcA,SAASA,eAAT,EAA0BC,QAA1B,EAAoCC,SAApC,QAAqD,KAArD;AACA,SAASC,SAAT,QAA0B,YAA1B;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAeJ,eAAe,CAAC;EAC7BK,UAAU,EAAE,EADiB;;EAE7BC,KAAK,GAAG;IACN,MAAMC,MAAK,GAAIJ,SAAS,EAAxB;IACA,MAAMK,SAAQ,GAAIP,QAAQ,CAAC;MACzBQ,QAAQ,EAAE,EADe;MAEzBC,QAAQ,EAAE,EAFe;MAGzBC,SAAS,EAAE,EAHc;MAIzBC,SAAS,EAAE,EAJc;MAKzBC,MAAM,EAAE,IALiB;MAMzBC,MAAM,EAAE,IANiB;MAOzBC,MAAM,EAAE,IAPiB;MAQzBC,IAAI,EAAE;IARmB,CAAD,CAA1B;;IAWA,MAAMC,MAAK,GAAI,YAAW;MACxB,MAAMC,WAAU,GAAId,KAAK,CAACe,IAAN,CAAWC,OAAX,EAApB;MACAF,WAAW,CAACG,GAAZ,CAAgB;QACd,SAAQ;MADM,CAAhB;MAIA,MAAMH,WAAW,CAACI,IAAZ,EAAN;MACA,IAAIC,KAAI,GAAIL,WAAW,CAACM,GAAZ,CAAgB,cAAhB,CAAZ;MACAC,OAAO,CAACC,GAAR,CAAYH,KAAZ,EARwB,CASxB;;MAEA,IAAII,IAAI,GAAC,EAAT;;MACA,IAAGJ,KAAH,EAAS;QACP,IAAIK,GAAE,GAAIL,KAAK,CAACM,MAAhB;MAEF;;MACAJ,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCE,GAAjC;;MACD,IAAGA,GAAG,IAAE,CAAR,EAAU;QACT,IAAGA,GAAG,IAAE,CAAR,EAAU;UACV,IAAKE,QAAO,GAAIC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeV,KAAK,CAACK,GAAG,GAAC,CAAL,CAApB,CAAX,CAAhB;QAEA,CAHA,MAIK;UACJE,QAAO,GAAIC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeV,KAAK,CAAC,CAAD,CAApB,CAAX,CAAX;QAED;MACD,CA1ByB,CA2BxB;MACA;;;MACAI,IAAI,CAACO,IAAL,CAAUJ,QAAV,EA7BwB,CA8BxB;MACA;;MAEAZ,WAAW,CAACG,GAAZ,CAAgB;QACd,gBAAgBM,IADF;QAEd,UAAS;MAFK,CAAhB;MAID,MAAOT,WAAW,CAACI,IAAZ,EAAP;MAEClB,KAAK,CAACe,IAAN,CAAWgB,MAAX,GAAoBC,IAApB,CAAyB,MAAM;QAC7BC,KAAK,CAAC,iBAAD,CAAL;QACAC,QAAQ,CAACC,MAAT;QAEAhC,MAAM,CAAC2B,IAAP,CAAY,GAAZ,EAJ6B,CAM7B;MACD,CAPD;IAQD,CA/CD;;IAiDAhC,SAAS,CAAC,MAAM,CAEf,CAFQ,CAAT;IAIA,OAAO;MAAEM,SAAF;MAAaS;IAAb,CAAP;EACF;;AArE6B,CAAD,CAA9B","names":["defineComponent","reactive","onMounted","useRouter","Parse","components","setup","router","formState","username","password","username1","password1","signup","signin","logout","show","Logout","currentUser","User","current","set","save","ldata","get","console","log","data","len","length","myTarget","JSON","parse","stringify","push","logOut","then","alert","location","reload"],"sourceRoot":"","sources":["C:\\Users\\user\\Downloads\\parse\\src\\components\\SignOut.vue"],"sourcesContent":["\r\n\r\n<template>\r\n  <div>\r\n    <!-- <p>User view</p> -->\r\n    \r\n    \r\n    <div >\r\n      <button @click=\"Logout\">Logout</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n    \r\n    <script>\r\nimport { defineComponent, reactive, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\n\r\nimport Parse from \"parse\";\r\n\r\nexport default defineComponent({\r\n  components: {},\r\n  setup() {\r\n    const router = useRouter()\r\n    const formState = reactive({\r\n      username: \"\",\r\n      password: \"\",\r\n      username1: \"\",\r\n      password1: \"\",\r\n      signup: true,\r\n      signin: true,\r\n      logout: true,\r\n      show: true\r\n    });\r\n  \r\n    const Logout = async() => {\r\n      const currentUser = Parse.User.current();\r\n      currentUser.set({\r\n        'state':false\r\n      })\r\n\r\n      await currentUser.save()\r\n      var ldata = currentUser.get(\"userLocation\");\r\n      console.log(ldata)\r\n      // console.log(ldata.pop())\r\n\r\n      var data=[]\r\n      if(ldata){\r\n        var len = ldata.length\r\n   \r\n      }\r\n      console.log(\"LLLLLLLLLLLLLLLLLL\",len)\r\n     if(len>=0){\r\n      if(len>=1){\r\n      var  myTarget = JSON.parse(JSON.stringify(ldata[len-1]))\r\n\r\n      }\r\n      else {\r\n       myTarget = JSON.parse(JSON.stringify(ldata[0]))\r\n\r\n      }\r\n     }\r\n      // console.log(\"len\",len)\r\n      // console.log(\"mytar\",myTarget)\r\n      data.push(myTarget)\r\n      // console.log(data)\r\n      // console.log(data)\r\n      \r\n      currentUser.set({\r\n        'userLocation': data,\r\n        'logout':true\r\n      });\r\n     await  currentUser.save()\r\n\r\n      Parse.User.logOut().then(() => {\r\n        alert(\"user logged out\");\r\n        location.reload();\r\n\r\n        router.push('/')\r\n\r\n        //   const currentUser = Parse.User.current();  // this will now be null\r\n      });\r\n    };\r\n\r\n    onMounted(() => {\r\n     \r\n    });\r\n\r\n    return { formState, Logout };\r\n  }\r\n});\r\n</script>\r\n    "]},"metadata":{},"sourceType":"module"}