{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineComponent, reactive, onMounted } from \"vue\";\nimport Parse from \"parse\";\nexport default defineComponent({\n  components: {},\n\n  setup() {\n    const formState = reactive({\n      username: \"\",\n      password: \"\",\n      signup: true,\n      signin: true,\n      logout: true,\n      show: true\n    });\n\n    const Signup = async () => {\n      const user = new Parse.User();\n      user.set(\"username\", formState.username);\n      user.set(\"password\", formState.password); // other fields can be set just like with Parse.Object\n\n      try {\n        await user.signUp().then(() => {\n          alert(\"user created\");\n          formState.username = \"\", formState.password = \"\";\n          location.reload();\n        }); // Hooray! Let them use the app now.\n      } catch (error) {\n        // Show the error message somewhere and let the user try again.\n        alert(\"Error: \" + error.code + \" \" + error.message);\n      }\n    };\n\n    const Signin = async () => {\n      await Parse.User.logIn(formState.username, formState.password).then(() => {\n        alert(\"user sign in success\");\n        const currentUser = Parse.User.current();\n\n        if (currentUser) {\n          currentUser.set({\n            'logout': false\n          });\n        }\n\n        location.reload();\n      });\n    };\n\n    const Logout = async () => {\n      const currentUser = Parse.User.current();\n      currentUser.set({\n        'state': false\n      });\n      await currentUser.save();\n      var ldata = currentUser.get(\"userLocation\");\n      console.log(ldata); // console.log(ldata.pop())\n\n      var data = [];\n      var len = ldata.length;\n      console.log(\"LLLLLLLLLLLLLLLLLL\", len);\n\n      if (len >= 0) {\n        if (len >= 1) {\n          var myTarget = JSON.parse(JSON.stringify(ldata[len - 1]));\n        } else {\n          myTarget = JSON.parse(JSON.stringify(ldata[0]));\n        }\n      }\n\n      console.log(\"len\", len);\n      console.log(\"mytar\", myTarget);\n      data.push(myTarget);\n      console.log(data); // console.log(data)\n\n      currentUser.set({\n        'userLocation': data,\n        'logout': true\n      });\n      await currentUser.save();\n      Parse.User.logOut().then(() => {\n        alert(\"user logged out\");\n        location.reload(); //   const currentUser = Parse.User.current();  // this will now be null\n      });\n    };\n\n    onMounted(() => {\n      const checkUseer = Parse.User.current();\n\n      if (checkUseer) {\n        formState.signup = false;\n        formState.signin = false;\n      } else {\n        formState.logout = false;\n      }\n    });\n    return {\n      formState,\n      Signup,\n      Signin,\n      Logout\n    };\n  }\n\n});","map":{"version":3,"mappings":"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","names":["defineComponent","reactive","onMounted","Parse","components","setup","formState","username","password","signup","signin","logout","show","Signup","user","User","set","signUp","then","alert","location","reload","error","code","message","Signin","logIn","currentUser","current","Logout","save","ldata","get","console","log","data","len","length","myTarget","JSON","parse","stringify","push","logOut","checkUseer"],"sourceRoot":"","sources":["C:\\Users\\user\\Downloads\\parse\\src\\components\\UserView.vue"],"sourcesContent":["\r\n\r\n<template>\r\n  <div>\r\n    <!-- <p>User view</p> -->\r\n    <div v-if=\"formState.signup\">\r\n      <p>Sign up</p>\r\n      <input v-model=\"formState.username\" placeholder=\"username\" />\r\n      <input v-model=\"formState.password\" placeholder=\"password\" />\r\n\r\n      <button @click=\"Signup\">Sign UP</button>\r\n    </div>\r\n    <div v-if=\"formState.signin\">\r\n      <p>Sign In</p>\r\n      <input v-model=\"formState.username\" placeholder=\"username\" />\r\n      <input v-model=\"formState.password\" placeholder=\"password\" />\r\n\r\n      <button @click=\"Signin\">Sign In</button>\r\n    </div>\r\n    <div v-if=\"formState.logout\">\r\n      <button @click=\"Logout\">Logout</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n    \r\n    <script>\r\nimport { defineComponent, reactive, onMounted } from \"vue\";\r\n\r\nimport Parse from \"parse\";\r\n\r\nexport default defineComponent({\r\n  components: {},\r\n  setup() {\r\n    const formState = reactive({\r\n      username: \"\",\r\n      password: \"\",\r\n      signup: true,\r\n      signin: true,\r\n      logout: true,\r\n      show: true\r\n    });\r\n    const Signup = async () => {\r\n      const user = new Parse.User();\r\n      user.set(\"username\", formState.username);\r\n      user.set(\"password\", formState.password);\r\n\r\n      // other fields can be set just like with Parse.Object\r\n\r\n      try {\r\n        await user.signUp().then(() => {\r\n          alert(\"user created\");\r\n          (formState.username = \"\"), (formState.password = \"\");\r\n          location.reload();\r\n        });\r\n        // Hooray! Let them use the app now.\r\n      } catch (error) {\r\n        // Show the error message somewhere and let the user try again.\r\n        alert(\"Error: \" + error.code + \" \" + error.message);\r\n      }\r\n    };\r\n\r\n    const Signin = async () => {\r\n      await Parse.User.logIn(formState.username, formState.password).then(\r\n        () => {\r\n          alert(\"user sign in success\");\r\n      const currentUser = Parse.User.current();\r\n          if(currentUser){\r\n            currentUser.set({\r\n        'logout':false\r\n      })\r\n          }\r\n\r\n          location.reload();\r\n\r\n        }\r\n      );\r\n    };\r\n    const Logout = async() => {\r\n      const currentUser = Parse.User.current();\r\n      currentUser.set({\r\n        'state':false\r\n      })\r\n\r\n      await currentUser.save()\r\n      var ldata = currentUser.get(\"userLocation\");\r\n      console.log(ldata)\r\n      // console.log(ldata.pop())\r\n\r\n      var data=[]\r\n      var len = ldata.length\r\n      console.log(\"LLLLLLLLLLLLLLLLLL\",len)\r\n     if(len>=0){\r\n      if(len>=1){\r\n      var  myTarget = JSON.parse(JSON.stringify(ldata[len-1]))\r\n\r\n      }\r\n      else {\r\n       myTarget = JSON.parse(JSON.stringify(ldata[0]))\r\n\r\n      }\r\n     }\r\n      console.log(\"len\",len)\r\n      console.log(\"mytar\",myTarget)\r\n      data.push(myTarget)\r\n      console.log(data)\r\n      // console.log(data)\r\n      \r\n      currentUser.set({\r\n        'userLocation': data,\r\n        'logout':true\r\n      });\r\n     await  currentUser.save()\r\n\r\n      Parse.User.logOut().then(() => {\r\n        alert(\"user logged out\");\r\n        location.reload();\r\n\r\n        //   const currentUser = Parse.User.current();  // this will now be null\r\n      });\r\n    };\r\n\r\n    onMounted(() => {\r\n      const checkUseer = Parse.User.current();\r\n      if (checkUseer) {\r\n        formState.signup = false;\r\n        formState.signin = false;\r\n      } else {\r\n        formState.logout = false;\r\n      }\r\n    });\r\n\r\n    return { formState, Signup, Signin, Logout };\r\n  }\r\n});\r\n</script>\r\n    "]},"metadata":{},"sourceType":"module"}